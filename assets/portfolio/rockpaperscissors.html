<!DOCTYPE html>
<html>
<head>
    <title>RockPaperScissors</title>
    <link rel="stylesheet" href="../css/reset.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" href="../css/style1.css">
    <script
        src="https://code.jquery.com/jquery-3.4.1.slim.js"
        integrity="sha256-BTlTdQO9/fascB1drekrDVkaKd9PkwBymMlHOiG+qLI="
        crossorigin="anonymous">
    </script>
</head>
<body>

    <div class="background clrDrkBlu">
        <div class="container main clrLgtBlu">
            <nav class="navbar navbar-default navbar-expand navbar-light clrLgtBlu fixed-top">
                <div class="navbar-header">
                  <a class="navbar-brand" href="../../portfolio.html">Return to Portfolio</a>
                </div>
            </nav>

            <div class="row">
                <div class="col space">
                <h2>Rock, Paper, Scissors!</h2>
                </div>
            </div>
    
            <hr>
    
            <div class="row space">
                <div class="col">
                    <p>Victory</p>
                    <h3 id="humanVictory"></h3>
                </div>
                <div class="col">
                    <p>Ties</p>
                    <h3 id="standOff"></h3>
                </div>
                <div class="col">
                    <p>Defeat</p>
                    <h3 id="robotVictory"></h3>
                </div>
            </div>

            <div class="row space">
                <div class="col">
                    <p>Game status</p>
                    <h3 id="gameStatus"></h3>
                </div>
            </div>

            <div class="row space">
                <div class="col">
                    <!-- rock button -->
                    <button id="rock">Rock!</button>
                </div>
                <div class="col">
                    <!-- paper button -->
                    <button id="paper">Paper!</button>
                </div>
                <div class="col">
                    <!-- scissor button -->
                    <button id="scissors">Scissors!</button>
                </div>
            </div>
        </div>
        </div>
        <footer class="box clrLgtBlu">
            <h5>Thanks for Visiting!</h5>
          </footer>
        </div>
    
        
    
  
    <script>

        var choices = ["r", "p", "s"]
        var robotVictory = 0;
        var standOff = 0;
        var humanVictory = 0;

        function updateHTML(gameStatus){
            $("#humanVictory").text(humanVictory)
            $("#robotVictory").text(robotVictory)
            $("#standOff").text(standOff)
            $("#gameStatus").text(gameStatus)
        }

        function gameLogic(userGuess){

            // generating the computers guess
            var computer = choices[Math.floor(Math.random() * choices.length)]
            
            // 3 victories
            if (userGuess === "r" && computer === "s"){
                console.log("Player("+userGuess+") beat the Computer("+computer+")");
                gameStatus = "Player("+userGuess+") beat the Computer("+computer+")";
                humanVictory++;
            }
            if (userGuess === "s" && computer === "p"){
                console.log("Player("+userGuess+") beat the Computer("+computer+")");
                gameStatus = "Player("+userGuess+") beat the Computer("+computer+")";
                humanVictory++;
            }
            if (userGuess === "p" && computer === "r"){
                console.log("Player("+userGuess+") beat the Computer("+computer+")");
                gameStatus = "Player("+userGuess+") beat the Computer("+computer+")";
                humanVictory++;
            }

            // 3 ties
            if (userGuess === computer){
                console.log("tie")
                gameStatus = "Player("+userGuess+") tied with the Computer("+computer+")";
                standOff++;
            }

            // 3 defeates
            if (userGuess === "s" && computer === "r"){
                console.log("Player("+userGuess+") was beaten by the Computer("+computer+")");
                gameStatus = "Player("+userGuess+") was beaten by the Computer("+computer+")";
                robotVictory++;
            }
            if (userGuess === "p" && computer === "s"){
                console.log("Player("+userGuess+") was beaten by the Computer("+computer+")");
                gameStatus = "Player("+userGuess+") was beaten by the Computer("+computer+")";
                robotVictory++;
            }
            if (userGuess === "r" && computer === "p"){
                console.log("Player("+userGuess+") was beaten by the Computer("+computer+")");
                gameStatus = "Player("+userGuess+") was beaten by the Computer("+computer+")";
                robotVictory++;
            }
            
            updateHTML(gameStatus)

        };

        updateHTML()

        // when the document is fully loaded
        $(document).ready(function() {

            // keypresses will be collected
            document.onkeydown = function(event){
                var userGuess= event.key.toLowerCase();

                // and filtered b4 approving game logic the 3 first statements should be combined
                if (userGuess === "s")  {
                    gameLogic(userGuess)
                } else if (userGuess === "r"){
                    gameLogic(userGuess)
                } else if (userGuess === "p"){
                    gameLogic(userGuess)
                } else {
                    console.log(userGuess+" wont work")
                    gameStatus = userGuess+" is not a valid option";
                    updateHTML(gameStatus)
                }
            };

            $("#rock").on("click", function(){
                userGuess = "r";
                gameLogic(userGuess);
            });

            $("#paper").on("click", function(){
                userGuess = "p";
                gameLogic(userGuess);
            });

            $("#scissors").on("click", function(){
                userGuess = "s";
                gameLogic(userGuess);
            });

        });

    </script>
</body>
</html>